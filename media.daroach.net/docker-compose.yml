#daroach.net Docker Compose File.
# this runs my media collection
#Author: Gagan Daroach
#Date: May 25 2019

version: "3"

networks:
  daroachnetwork:
    external: true
  backend:

services:
  plex:
    image: ghcr.io/linuxserver/plex
    container_name: plex
    restart: unless-stopped
    runtime: nvidia
    networks:
      - daroachnetwork
      - backend
    environment:
      - VIRTUAL_HOST=media.daroach.net
      - VIRTUAL_PORT=32400
      - LETSENCRYPT_HOST=media.daroach.net
      - LETSENCRYPT_EMAIL=gagandaroach@gmail.com
      - TZ=${TZ}
      - PUID=${MEDIA_PUID}
      - PGID=${MEDIA_PGID}
      - VERSION=docker
      - NVIDIA_VISIBLE_DEVICES=GPU-9ff54a75-3c2b-936f-db89-4c1db3fb218d
      - PLEX_CLAIM=claim-JGGk4Az6GF1FXJGGKzjP
    volumes:
      - ${CONFIG_DIR}/plex:/config
      - ${TV_DIR}:/tv
      - ${MOVIES_DIR}:/movies
  
  # deluge:
  #   image: linuxserver/deluge:latest
  #   restart: "unless-stopped"
  #   environment:
  #     - PUID=${MEDIA_PUID}
  #     - PGID=${MEDIA_PGID}
  #     - TZ=${TZ}
  #   volumes:
  #     - ${CONFIG_DIR}/deluge:/config
  #     - ${DOWNLOADS}:/downloads
  #     - ${WATCH}:/watch
  #   ports:
  #     - 8112:8112
  #   networks:
  #     - backend

  # jackett:
  #   image: linuxserver/jackett:latest
  #   restart: "unless-stopped"
  #   networks:
  #     - backend
  #   ports:
  #     - 9117:9117
  #   environment:
  #     - PUID=${MEDIA_PUID}
  #     - PGID=${MEDIA_PGID}
  #     - TZ=${TZ}
  #   volumes:
  #     - /etc/localtime:/etc/localtime:ro
  #     - ${WATCH}:/downloads
  #     - ${CONFIG_DIR}/jackett:/config

  # radarr:
  #   image: linuxserver/radarr
  #   environment:
  #     - VIRTUAL_HOST=mov.daroach.net
  #     - VIRTUAL_PORT=7878
  #     - LETSENCRYPT_HOST=mov.daroach.net
  #     - LETSENCRYPT_EMAIL=gagandaroach@gmail.com
  #     - PUID=${MEDIA_PUID}
  #     - PGID=${MEDIA_PGID}
  #     - TZ=${TZ}
  #   networks:
  #     - backend
  #     - daroachnetwork
  #   volumes:
  #     - ${CONFIG_DIR}/radarr:/config
  #     - ${MOVIES_DIR}:/movies
  #     - ${DOWNLOADS}/complete:/downloads/complete
  #   ports:
  #     - 7878:7878
  #   restart: "unless-stopped"
  #   depends_on:
  #     - jackett
  #     - deluge

  # sonarr:
  #   image: linuxserver/sonarr:latest
  #   restart: "unless-stopped"
  #   depends_on:
  #     - jackett
  #     - deluge
  #   networks:
  #     - backend
  #     - daroachnetwork
  #   ports:
  #     - 8989:8989
  #   environment:
  #     - VIRTUAL_HOST=tv.daroach.net
  #     - VIRTUAL_PORT=8989
  #     - LETSENCRYPT_HOST=tv.daroach.net
  #     - LETSENCRYPT_EMAIL=gagandaroach@gmail.com
  #     - PUID=${MEDIA_PUID}
  #     - PGID=${MEDIA_PGID}
  #     - TZ=${TZ}
  #   volumes:
  #     - /etc/localtime:/etc/localtime:ro
  #     - ${CONFIG_DIR}/sonarr:/config
  #     - ${TV_DIR}:/tv
  #     - ${DOWNLOADS}/complete:/downloads/complete 
